{"code":"!function(t){var i={};function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var o in t)n.d(e,o,function(i){return t[i]}.bind(null,o));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,\"a\",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p=\"\",n(n.s=4)}([function(t,i,n){var e=n(1),o=n(2);\"string\"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,\"\"]]);var a={insert:\"head\",singleton:!1};e(o,a);t.exports=o.locals||{}},function(t,i,n){\"use strict\";var e,o=function(){return void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e},a=function(){var t={};return function(i){if(void 0===t[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[i]=n}return t[i]}}(),s=[];function r(t){for(var i=-1,n=0;n<s.length;n++)if(s[n].identifier===t){i=n;break}return i}function h(t,i){for(var n={},e=[],o=0;o<t.length;o++){var a=t[o],h=i.base?a[0]+i.base:a[0],c=n[h]||0,d=\"\".concat(h,\" \").concat(c);n[h]=c+1;var u=r(d),l={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(s[u].references++,s[u].updater(l)):s.push({identifier:d,updater:p(l,i),references:1}),e.push(d)}return e}function c(t){var i=document.createElement(\"style\"),e=t.attributes||{};if(void 0===e.nonce){var o=n.nc;o&&(e.nonce=o)}if(Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),\"function\"==typeof t.insert)t.insert(i);else{var s=a(t.insert||\"head\");if(!s)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");s.appendChild(i)}return i}var d,u=(d=[],function(t,i){return d[t]=i,d.filter(Boolean).join(\"\\n\")});function l(t,i,n,e){var o=n?\"\":e.media?\"@media \".concat(e.media,\" {\").concat(e.css,\"}\"):e.css;if(t.styleSheet)t.styleSheet.cssText=u(i,o);else{var a=document.createTextNode(o),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(a,s[i]):t.appendChild(a)}}function m(t,i,n){var e=n.css,o=n.media,a=n.sourceMap;if(o?t.setAttribute(\"media\",o):t.removeAttribute(\"media\"),a&&btoa&&(e+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var w=null,f=0;function p(t,i){var n,e,o;if(i.singleton){var a=f++;n=w||(w=c(i)),e=l.bind(null,n,a,!1),o=l.bind(null,n,a,!0)}else n=c(i),e=m.bind(null,n,i),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else o()}}t.exports=function(t,i){(i=i||{}).singleton||\"boolean\"==typeof i.singleton||(i.singleton=o());var n=h(t=t||[],i);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var e=0;e<n.length;e++){var o=r(n[e]);s[o].references--}for(var a=h(t,i),c=0;c<n.length;c++){var d=r(n[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=a}}}},function(t,i,n){(i=n(3)(!1)).push([t.i,\"body {\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tbackground: black;\\n}\\n\\ncanvas {\\n\\tbackground: #29adff;\\n}\\n\",\"\"]),t.exports=i},function(t,i,n){\"use strict\";t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n=t[1]||\"\",e=t[3];if(!e)return n;if(i&&\"function\"==typeof btoa){var o=(s=e,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),h=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(r),\"/*# \".concat(h,\" */\")),a=e.sources.map((function(t){return\"/*# sourceURL=\".concat(e.sourceRoot||\"\").concat(t,\" */\")}));return[n].concat(a).concat([o]).join(\"\\n\")}var s,r,h;return[n].join(\"\\n\")}(i,t);return i[2]?\"@media \".concat(i[2],\" {\").concat(n,\"}\"):n})).join(\"\")},i.i=function(t,n,e){\"string\"==typeof t&&(t=[[null,t,\"\"]]);var o={};if(e)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var r=0;r<t.length;r++){var h=[].concat(t[r]);e&&o[h[0]]||(n&&(h[2]?h[2]=\"\".concat(n,\" and \").concat(h[2]):h[2]=n),i.push(h))}},i}},function(t,i,n){\"use strict\";n.r(i);n(0);var e=n.p+\"ebf1f7255206439f2bc85b548cf7f4e0.png\";class o{constructor(t,i=!0){this.sound=document.createElement(\"audio\"),this.sound.src=t,this.sound.loop=i,this.sound.setAttribute(\"preload\",\"auto\"),this.sound.setAttribute(\"controls\",\"none\"),this.sound.style.display=\"none\",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}}class a{constructor(t,i,n){this.x=i,this.y=n,this.width=window.UFO45.tileSize,this.height=window.UFO45.tileSize,this.image=t,this.abducting=!1,this.currentAnimationFrame=0,this.animationFrameCount=0,this.animationFrameCountThreshold=100,this.animationFrames=[{x:4,y:6},{x:5,y:6},{x:6,y:6},{x:3,y:7},{x:4,y:7},{x:5,y:7},{x:6,y:7},{x:7,y:7}]}update(t){!this.abducting||window.UFO45.player.y<window.UFO45.canvas.height-4*window.UFO45.tileSize||(this.x=window.UFO45.player.x,this.y=window.UFO45.player.y+window.UFO45.player.height,window.UFO45.context.drawImage(this.image,this.animationFrames[this.currentAnimationFrame].x*this.width,this.animationFrames[this.currentAnimationFrame].y*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.animate(t))}animate(t){this.animationFrameCount+=1*t,this.animationFrameCount<this.animationFrameCountThreshold||(this.animationFrameCount=0,this.currentAnimationFrame++,this.currentAnimationFrame>=this.animationFrames.length&&(this.currentAnimationFrame=0))}}class s{constructor(t){this.speed=1,this.image=t,this.width=window.UFO45.tileSize,this.height=window.UFO45.tileSize,this.currentAnimationFrame=0,this.animationFrameCount=0,this.animationFrameCountThreshold=100,this.animationFrames=[{x:4,y:0},{x:5,y:0},{x:6,y:0},{x:7,y:0},{x:4,y:1},{x:5,y:1},{x:6,y:1},{x:7,y:1},{x:4,y:2},{x:5,y:2},{x:6,y:2},{x:7,y:2}],this.x=Math.ceil(window.UFO45.canvas.width/2-this.width/2),this.y=Math.ceil(window.UFO45.canvas.height/2-this.height/2),window.UFO45.canvas.addEventListener(\"touchstart\",t=>{this.ray.abducting=!0,this.soundEffect.play(),this.animationFrameCountThreshold=10}),window.UFO45.canvas.addEventListener(\"touchend\",t=>{this.ray.abducting=!1,this.soundEffect.stop(),this.animationFrameCountThreshold=100}),this.soundEffect=new o(\"./media/weird.mp3\"),this.soundEffect.sound.volume=.3,this.crashSoundEffect=new o(\"./media/crashbit.wav\",!1),this.crashSoundEffect.sound.volume=1,this.ray=new a(t,this.x,this.y)}update(t){window.UFO45.context.drawImage(this.image,this.animationFrames[this.currentAnimationFrame].x*this.width,this.animationFrames[this.currentAnimationFrame].y*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.animatePlayer(t),this.move(t),this.updatePlayersCollisionBox(t),this.canvasCollisionDetection(),this.ray.update(t)}animatePlayer(t){this.animationFrameCount+=1*t,this.animationFrameCount<this.animationFrameCountThreshold||(this.animationFrameCount=0,this.currentAnimationFrame++,this.currentAnimationFrame>=this.animationFrames.length&&(this.currentAnimationFrame=0))}move(t){this.x+=window.UFO45.controller.vector[0].x*this.speed,this.y+=window.UFO45.controller.vector[0].y*this.speed}updatePlayersCollisionBox(t){switch(window.UFO45.tileSize){case 48:this.collisionBox={x:this.x+8,y:this.y+2,width:this.width-16,height:this.height-3}}window.UFO45.debug&&(window.UFO45.context.strokeStyle=\"blue\",window.UFO45.context.beginPath(),window.UFO45.context.rect(this.collisionBox.x,this.collisionBox.y,this.collisionBox.width,this.collisionBox.height),window.UFO45.context.stroke())}canvasCollisionDetection(){this.x+this.width>=window.UFO45.canvas.width&&(this.x=Math.ceil(window.UFO45.canvas.width-this.width)),this.x<0&&(this.x=0),this.y+this.height>window.UFO45.canvas.height-window.UFO45.foreground.height&&(window.UFO45.gameOver=!0),this.y<0&&(this.y=0)}}window.UFO45=new class{constructor(){this.canvas=document.getElementById(\"canvas\"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.context=this.canvas.getContext(\"2d\"),this.tileSize=48,this.debug=!1}init(){let t=new Image;t.src=e,this.player=new s(t)}init2(){loadImage(`img/SpriteSheet-${this.tileSize}x${this.tileSize}.png`).then(t=>{this.soundTrack=new Sound(\"./media/soundtrack.mp3\"),this.score=new Score,this.controller=new Controller,this.player=new s(t),this.foreground=new Foreground(t),this.CloudEnemies=new CloudEnemies(t),this.abducteeFactory=new AbducteeFactory(t),this.bushes=[new Bushes(t,Math.ceil(Math.random()*window.UFO45.canvas.width)),new Bushes(t,Math.ceil(Math.random()*window.UFO45.canvas.width)),new Bushes(t,Math.ceil(Math.random()*window.UFO45.canvas.width))],window.UFO45.canvas.addEventListener(\"touchstart\",this.startGame),requestAnimationFrame(t=>this.update(t))})}},window.onload=function(){window.UFO45.init()}}]);","extractedComments":[]}